---
import Navbar from "../components/Navbar.astro";
import Base from "../layout/Base.astro";

const loginTitle = "Iniciar sesión";
---

<Base title={loginTitle}>
	<Navbar />
	<main
		class="flex flex-col items-center justify-center px-8 xl:px-6 min-h-[80vh] xl:min-h-[85vh]"
	>
		<section
			class:list={[
				"bg-white dark:bg-slate-800",
				"w-full max-w-lg md:max-w-xl mx-auto p-8",
				"flex flex-col gap-6",
				"rounded shadow-md",
			]}
		>
			<h1
				class="w-full font-semibold text-2xl lg:text-3xl text-black dark:text-white"
			>
				Iniciar sesión
			</h1>

			<form
				action="/api/auth/signin"
				method="post"
				class="grid grid-cols-1 gap-6 w-full"
			>
				<div id="emailContainer" class="grid grid-cols-1 gap-2">
					<label
						for="email"
						class="text-base lg:text-xl font-medium text-black dark:text-white"
						>Tu correo electrónico</label
					>
					<input
						id="email"
						type="email"
						name="email"
						placeholder="nombre@mail.com"
						autocomplete="on"
						class:list={[
							"py-2 px-4 rounded-md border",
							"text-base lg:text-lg text-black dark:text-neutral-100",
							"bg-white dark:bg-slate-700 border-neutral-300 dark:border-slate-500",
							"focus:bg-neutral-50 dark:focus:bg-slate-800 focus:border-blue-500 focus:ring-blue-600",
							"focus:outline-none focus:ring-2 focus:ring-opacity-60",
						]}
					/>
				</div>

				<div id="passwordContainer" class="grid grid-cols-1 gap-2">
					<label
						for="password"
						class="text-base lg:text-xl font-semibold text-black dark:text-white"
						>Tu contraseña</label
					>
					<input
						id="password"
						type="password"
						name="password"
						placeholder="••••••••"
						autocomplete="on"
						class:list={[
							"py-2 px-4 rounded-md border",
							"text-base lg:text-lg text-black dark:text-neutral-100",
							"bg-white dark:bg-slate-700 border-neutral-300 dark:border-slate-500",
							"focus:bg-neutral-50 dark:focus:bg-slate-800 focus:border-blue-500 focus:ring-blue-600",
							"focus:outline-none focus:ring-2 focus:ring-opacity-60",
						]}
					/>
				</div>

				<label class="flex items-center gap-2 text-md lg:text-xl">
					<input type="checkbox" id="showPassword" class="cursor-pointer" />
					<span id="checkText">Mostrar contraseña 👁️</span>
				</label>

				<button
					type="submit"
					class:list={[
						"py-1.5 text-md lg:text-xl text-sm font-medium dark:text-black text-neutral-100",
						"rounded-md dark:bg-stone-50 bg-blue-700 border-blue-800 border dark:border-neutral-100",
						"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-neutral-900",
						"disabled:opacity-50 disabled:cursor-not-allowed",
					]}>Ingresar</button
				>
			</form>
		</section>
	</main>
</Base>

<script>
	const passwordInput: any = document.getElementById("password");
	const showPassword: any = document.getElementById("showPassword");
	const checkText: any = document.getElementById("checkText");

	showPassword.addEventListener("change", () => {
		passwordInput.type = showPassword.checked ? "text" : "password";
		checkText.textContent = showPassword.checked
			? "Ocultar contraseña 🙈"
			: "Mostrar contraseña 👁️";
	});
</script>
